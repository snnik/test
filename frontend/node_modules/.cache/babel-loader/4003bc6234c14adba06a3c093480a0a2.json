{"ast":null,"code":"import _classCallCheck from\"/home/snnik/IdeaProjects/blog_example/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/snnik/IdeaProjects/blog_example/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/snnik/IdeaProjects/blog_example/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/snnik/IdeaProjects/blog_example/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/home/snnik/IdeaProjects/blog_example/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/snnik/IdeaProjects/blog_example/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import DataService from'../service/DataService';var ListComponent=/*#__PURE__*/function(_Component){_inherits(ListComponent,_Component);function ListComponent(props){var _this;_classCallCheck(this,ListComponent);_this=_possibleConstructorReturn(this,_getPrototypeOf(ListComponent).call(this,props));_this.state={posts:[],message:null};_this.refreshPosts=_this.refreshPosts.bind(_assertThisInitialized(_this));_this.updatePostClicked=_this.updatePostClicked.bind(_assertThisInitialized(_this));_this.addPostClicked=_this.addPostClicked.bind(_assertThisInitialized(_this));return _this;}_createClass(ListComponent,[{key:\"componentDidMount\",value:function componentDidMount(){this.refreshPosts();}},{key:\"refreshPosts\",value:function refreshPosts(){var _this2=this;DataService.retrieveAllPosts()//HARDCODED\n.then(function(response){//console.log(response);\n_this2.setState({posts:response.data,message:null});});}},{key:\"updatePostClicked\",value:function updatePostClicked(id){//console.log('update ' + id)\nthis.props.history.push(\"/post/\".concat(id));}},{key:\"addPostClicked\",value:function addPostClicked(){//console.log('add ' + id)\nthis.props.history.push(\"/post/create\");}},{key:\"render\",value:function render(){var _this3=this;return React.createElement(\"div\",{className:\"container\"},React.createElement(\"h3\",null,\"\\u0412\\u0441\\u0435 \\u043F\\u043E\\u0441\\u0442\\u044B\"),this.state.message&&React.createElement(\"div\",{className:\"alert alert-success\"},this.state.message),React.createElement(\"div\",{className:\"container\"},this.state.posts.map(function(post){return React.createElement(\"div\",{className:\"card m-2\",key:post.id.toString(),onClick:function onClick(){return _this3.updatePostClicked(post.id);}},React.createElement(\"div\",{className:\"card-header\"},post.headline),React.createElement(\"div\",{className:\"card-body\"},React.createElement(\"div\",{className:\"row\"},React.createElement(\"p\",null,post.message)),React.createElement(\"div\",{className:\"row\"})),React.createElement(\"div\",{className:\"card-footer text-muted\"},post.tag));}),React.createElement(\"div\",{className:\"row\"},React.createElement(\"button\",{className:\"btn btn-success\",onClick:this.addPostClicked},\"Add\"))));}}]);return ListComponent;}(Component);export default ListComponent;","map":{"version":3,"sources":["/home/snnik/IdeaProjects/blog_example/frontend/src/component/ListComponent.jsx"],"names":["React","Component","DataService","ListComponent","props","state","posts","message","refreshPosts","bind","updatePostClicked","addPostClicked","retrieveAllPosts","then","response","setState","data","id","history","push","map","post","toString","headline","tag"],"mappings":"oyBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,WAAP,KAAwB,wBAAxB,C,GAEMC,CAAAA,a,uEAEF,uBAAYC,KAAZ,CAAmB,+CACf,+EAAMA,KAAN,GACA,MAAKC,KAAL,CAAa,CACTC,KAAK,CAAE,EADE,CAETC,OAAO,CAAE,IAFA,CAAb,CAIA,MAAKC,YAAL,CAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB,CACA,MAAKC,iBAAL,CAAyB,MAAKA,iBAAL,CAAuBD,IAAvB,+BAAzB,CACA,MAAKE,cAAL,CAAsB,MAAKA,cAAL,CAAoBF,IAApB,+BAAtB,CARe,aASlB,C,uFAEmB,CAChB,KAAKD,YAAL,GACH,C,mDAEc,iBACXN,WAAW,CAACU,gBAAZ,EAA8B;AAA9B,CACKC,IADL,CAEQ,SAAAC,QAAQ,CAAI,CACR;AACA,MAAI,CAACC,QAAL,CAAc,CACVT,KAAK,CAAEQ,QAAQ,CAACE,IADN,CAEVT,OAAO,CAAE,IAFC,CAAd,EAIH,CART,EAUH,C,4DAEiBU,E,CAAI,CAClB;AACA,KAAKb,KAAL,CAAWc,OAAX,CAAmBC,IAAnB,iBAAiCF,EAAjC,GACH,C,uDAEgB,CACb;AACA,KAAKb,KAAL,CAAWc,OAAX,CAAmBC,IAAnB,iBACH,C,uCAEQ,iBACL,MACI,4BAAK,SAAS,CAAC,WAAf,EACI,kFADJ,CAEK,KAAKd,KAAL,CAAWE,OAAX,EAAsB,2BAAK,SAAS,CAAC,qBAAf,EAAsC,KAAKF,KAAL,CAAWE,OAAjD,CAF3B,CAGI,2BAAK,SAAS,CAAC,WAAf,EAEQ,KAAKF,KAAL,CAAWC,KAAX,CAAiBc,GAAjB,CACI,SAAAC,IAAI,QACA,4BAAK,SAAS,CAAC,UAAf,CAA0B,GAAG,CAAEA,IAAI,CAACJ,EAAL,CAAQK,QAAR,EAA/B,CAAmD,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACZ,iBAAL,CAAuBW,IAAI,CAACJ,EAA5B,CAAN,EAA5D,EACI,2BAAK,SAAS,CAAC,aAAf,EACKI,IAAI,CAACE,QADV,CADJ,CAII,2BAAK,SAAS,CAAC,WAAf,EACI,2BAAK,SAAS,CAAC,KAAf,EAAqB,6BAAIF,IAAI,CAACd,OAAT,CAArB,CADJ,CAEI,2BAAK,SAAS,CAAC,KAAf,EAFJ,CAJJ,CAUI,2BAAK,SAAS,CAAC,wBAAf,EACKc,IAAI,CAACG,GADV,CAVJ,CADA,EADR,CAFR,CAoBI,2BAAK,SAAS,CAAC,KAAf,EACI,8BAAQ,SAAS,CAAC,iBAAlB,CAAoC,OAAO,CAAE,KAAKb,cAAlD,QADJ,CApBJ,CAHJ,CADJ,CA+BH,C,2BAxEuBV,S,EA2E5B,cAAeE,CAAAA,aAAf","sourcesContent":["import React, { Component } from 'react';\nimport DataService from '../service/DataService';\n\nclass ListComponent extends Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            posts: [],\n            message: null\n        }\n        this.refreshPosts = this.refreshPosts.bind(this);\n        this.updatePostClicked = this.updatePostClicked.bind(this);\n        this.addPostClicked = this.addPostClicked.bind(this);\n    }\n\n    componentDidMount() {\n        this.refreshPosts();\n    }\n\n    refreshPosts() {\n        DataService.retrieveAllPosts()//HARDCODED\n            .then(\n                response => {\n                    //console.log(response);\n                    this.setState({\n                        posts: response.data,\n                        message: null\n                    });\n                }\n            )\n    }\n\n    updatePostClicked(id) {\n        //console.log('update ' + id)\n        this.props.history.push(`/post/${id}`);\n    }\n\n    addPostClicked() {\n        //console.log('add ' + id)\n        this.props.history.push(`/post/create`);\n    }\n\n    render() {\n        return (\n            <div className=\"container\">\n                <h3>Все посты</h3>\n                {this.state.message && <div className=\"alert alert-success\">{this.state.message}</div>}\n                <div className=\"container\">\n                    {\n                        this.state.posts.map(\n                            post =>\n                                <div className=\"card m-2\" key={post.id.toString()} onClick={() => this.updatePostClicked(post.id)}>\n                                    <div className=\"card-header\">\n                                        {post.headline}\n                                    </div>\n                                    <div className=\"card-body\">\n                                        <div className=\"row\"><p>{post.message}</p></div>\n                                        <div className=\"row\">\n\n                                        </div>\n                                    </div>\n                                    <div className=\"card-footer text-muted\">\n                                        {post.tag}\n                                    </div>\n                                </div>\n                        )\n                    }\n                    <div className=\"row\">\n                        <button className=\"btn btn-success\" onClick={this.addPostClicked}>Add</button>\n                    </div>\n                </div>\n\n            </div>\n        )\n    }\n}\n\nexport default ListComponent"]},"metadata":{},"sourceType":"module"}