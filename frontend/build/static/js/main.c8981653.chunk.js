(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{34:function(e,t,a){e.exports=a(63)},39:function(e,t,a){},40:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(30),l=a.n(c),r=(a(39),a(5)),i=a(6),o=a(9),u=a(8),m=a(10),h=(a(40),a(31)),d=a(12),b=a(2),p=a(14),v=a.n(p),f="http://127.0.0.1:8085",g=new(function(){function e(){Object(r.a)(this,e)}return Object(i.a)(e,[{key:"retrieveAllPosts",value:function(){return v.a.get("".concat(f,"/"))}},{key:"deletePost",value:function(e){return v.a.get("".concat(f,"/delete/").concat(e))}},{key:"retrievePost",value:function(e){return v.a.get("".concat(f,"/post/").concat(e))}},{key:"updatePost",value:function(e,t){return v.a.put("".concat(f,"/post/update/").concat(e),t)}},{key:"createPost",value:function(e){return v.a.post("".concat(f,"/add"),e)}}]),e}()),k=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={posts:[],message:null},a.refreshPosts=a.refreshPosts.bind(Object(b.a)(a)),a.updatePostClicked=a.updatePostClicked.bind(Object(b.a)(a)),a.addPostClicked=a.addPostClicked.bind(Object(b.a)(a)),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.refreshPosts()}},{key:"refreshPosts",value:function(){var e=this;g.retrieveAllPosts().then((function(t){e.setState({posts:t.data,message:null})}))}},{key:"updatePostClicked",value:function(e){this.props.history.push("/post/".concat(e))}},{key:"addPostClicked",value:function(){this.props.history.push("/post/create")}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"container"},s.a.createElement("h3",null,"\u0412\u0441\u0435 \u043f\u043e\u0441\u0442\u044b"),this.state.message&&s.a.createElement("div",{className:"alert alert-success"},this.state.message),s.a.createElement("div",{className:"container"},this.state.posts.map((function(t){return s.a.createElement("div",{className:"card m-2",key:t.id.toString(),onClick:function(){return e.updatePostClicked(t.id)}},s.a.createElement("div",{className:"card-header"},t.headline),s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"row"},s.a.createElement("p",null,t.message)),s.a.createElement("div",{className:"row"})),s.a.createElement("div",{className:"card-footer text-muted"},t.tag))})),s.a.createElement("div",{className:"row"},s.a.createElement("button",{className:"btn btn-success",onClick:this.addPostClicked},"Add"))))}}]),t}(n.Component),E=a(16),C=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={id:a.props.match.params.id,headline:"",tag:"",message:""},a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a.handleChange=a.handleChange.bind(Object(b.a)(a)),a.backClick=a.backClick.bind(Object(b.a)(a)),a.deletePostClicked=a.deletePostClicked.bind(Object(b.a)(a)),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.retrievePost(this.state.id).then((function(t){return e.setState({id:t.data.id,headline:t.data.headline,tag:t.data.tag,message:t.data.message})}))}},{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name;this.setState(Object(E.a)({},n,a))}},{key:"onSubmit",value:function(e){var t=this,a={id:this.state.id,headline:this.state.headline,tag:this.state.tag,message:this.state.message};g.updatePost(this.state.id,a).then((function(){return t.props.history.push("/")})),e.preventDefault()}},{key:"backClick",value:function(){this.props.history.push("/")}},{key:"deletePostClicked",value:function(e){var t=this;g.deletePost(e).then((function(a){t.setState({message:"Delete ".concat(e)}),t.props.history.push("/")}))}},{key:"render",value:function(){var e=this;return console.log(this.state),s.a.createElement("div",{className:"container"},s.a.createElement("h3",null,"Post"),s.a.createElement("br",null),s.a.createElement("div",{className:"container"},s.a.createElement("form",{onSubmit:this.onSubmit},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"\u0422\u044d\u0433:"),s.a.createElement("input",{name:"tag",className:"form-control",type:"text",value:this.state.tag,onChange:this.handleChange})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a:"),s.a.createElement("input",{name:"headline",className:"form-control",type:"text",value:this.state.headline,onChange:this.handleChange})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435:"),s.a.createElement("textarea",{name:"message",className:"form-control",value:this.state.message,onChange:this.handleChange})),s.a.createElement("div",{className:"row"},s.a.createElement("button",{className:"btn btn-success mx-2",onClick:this.backClick},"\u041d\u0430\u0437\u0430\u0434"),s.a.createElement("button",{className:"btn btn-warning float-right",onClick:function(){return e.deletePostClicked(e.state.id)}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),s.a.createElement("input",{className:"btn btn-primary float-right mx-2",type:"submit",value:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})))))}}]),t}(n.Component),y=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={headline:"",tag:"",message:""},a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a.handleChange=a.handleChange.bind(Object(b.a)(a)),a.backClick=a.backClick.bind(Object(b.a)(a)),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name;this.setState(Object(E.a)({},n,a))}},{key:"onSubmit",value:function(e){var t=this,a={headline:this.state.headline,tag:this.state.tag,message:this.state.message};g.createPost(a).then((function(){return t.props.history.push("/")})),e.preventDefault()}},{key:"backClick",value:function(){this.props.history.push("/")}},{key:"render",value:function(){return s.a.createElement("div",{className:"container"},s.a.createElement("h3",null,"\u041f\u043e\u0441\u0442"),s.a.createElement("br",null),s.a.createElement("div",{className:"container"},s.a.createElement("form",{onSubmit:this.onSubmit},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"\u0422\u044d\u0433:"),s.a.createElement("input",{name:"tag",className:"form-control",type:"text",value:this.state.tag,onChange:this.handleChange})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a:"),s.a.createElement("input",{name:"headline",className:"form-control",type:"text",value:this.state.headline,onChange:this.handleChange})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435:"),s.a.createElement("textarea",{name:"message",className:"form-control",value:this.state.message,onChange:this.handleChange})),s.a.createElement("div",{className:"row"},s.a.createElement("button",{className:"btn btn-success mx-2",onClick:this.backClick},"\u041d\u0430\u0437\u0430\u0434"),s.a.createElement("input",{className:"btn btn-primary float-right mx-2",type:"submit",value:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})))))}}]),t}(n.Component),j=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement(h.a,null,s.a.createElement("div",{className:"container"},s.a.createElement("h1",null,"\u041f\u0440\u0438\u043c\u0435\u0440 \u0431\u043b\u043e\u0433\u0430"),s.a.createElement("h2",null,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438 \u0441\u043f\u0438\u0441\u043e\u043a"),s.a.createElement(d.c,null,s.a.createElement(d.a,{path:"/",exact:!0,component:k}),s.a.createElement(d.a,{path:"/post/create",component:y}),s.a.createElement(d.a,{path:"/post/:id",component:C}))))}}]),t}(n.Component),O=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"container"},s.a.createElement(j,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(s.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[34,1,2]]]);
//# sourceMappingURL=main.c8981653.chunk.js.map